<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Coffee Shop Scenario</title>
  <style>
    /* Styles for the coffee shop scene */
    #container {
      position: relative;
      width: 100%;
      height: 100vh;
      background-image: url('./coffee-shop.jpeg');
      background-size: cover;
      background-position: center;

    }
    .person {
      position: absolute;
      width: 100px;
      height: 100px;
      cursor: pointer;
    }
    .coffee-cup {
      position: absolute;
      width: 60px;
      height: 60px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div id="container">
    <div  class="person" id="alex" style="top: 200px; left: 100px; background-color: red;"></div>
    <div  class="person" id="ben" style="top: 200px; left: 500px;background-color: blue;"></div>
    <img src="./coffee-cup.png" class="coffee-cup" id="coffeeCup" style="top: 400px; left: 350px">
  </div>

  <script>
    // Get references to elements
    const alex = document.getElementById('alex');
    const ben = document.getElementById('ben');
    const coffeeCup = document.getElementById('coffeeCup');

    // Add click event listeners
    alex.addEventListener('click', () => {
      // Animate coffee cup moving to Alex's mouth
      animateCoffeeToMouth();
    });

    alex.addEventListener('mouseover', () => {
      // Animate Alex's hand waving
      alex.style.animation = 'wave 0.5s ease infinite';
    });

    alex.addEventListener('mouseout', () => {
      // Stop the waving animation
      alex.style.animation = 'none';
    });

    // Function to animate coffee cup moving to Alex's mouth
    function animateCoffeeToMouth() {
      const initialLeft = parseFloat(coffeeCup.style.left);
      const initialTop = parseFloat(coffeeCup.style.top);
      const finalLeft = 160; // Adjust this value according to Alex's mouth position
      const finalTop = 240; // Adjust this value according to Alex's mouth position
      const duration = 1000; // Adjust duration as needed

      let startTime;

      function animate(time) {
        if (!startTime) startTime = time;
        const elapsed = time - startTime;
        const progress = Math.min(elapsed / duration, 1); // Ensure progress doesn't exceed 1

        // Calculate new position based on progress
        const newLeft = initialLeft + (finalLeft - initialLeft) * progress;
        const newTop = initialTop + (finalTop - initialTop) * progress;

        // Update coffee cup position
        coffeeCup.style.left = newLeft + 'px';
        coffeeCup.style.top = newTop + 'px';

        // Continue animation if not finished
        if (progress < 1) {
          requestAnimationFrame(animate);
        }
      }

      // Start the animation
      requestAnimationFrame(animate);
    }
  </script>
</body>
</html>
